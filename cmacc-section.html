<!-- Imports polymer -->
<link rel="import" href="../bower_components/polymer/polymer.html">

<!-- Defines element markup -->
<dom-module id="cmacc-section">
    <template>
        <iron-signals on-iron-signal-cmacc-section="setColor"></iron-signals>
        <content></content>
    </template>
</dom-module>


<script>
    Polymer({
        is: 'cmacc-section',

        properties: {
            file: String
        },

        attached: function () {

            this.setColor = function(e, detail){

                if(detail === this.file){
                    this.style.backgroundColor = "lightblue";
                }

                if(!detail){
                    this.style.backgroundColor = null;
                }
            },

            this.addEventListener("mouseover", function(e){
                this.fire('iron-signal', {name:'cmacc-section', data: this.file})
                e.stopPropagation();
            }, false);

            this.addEventListener("mouseout", function(e){
                this.fire('iron-signal', {name:'cmacc-section', data: null})
            }, true);

            this.addEventListener("click", function(e){
                //console.log(this.file);
            }.bind(this), true)
        }

    });
</script>